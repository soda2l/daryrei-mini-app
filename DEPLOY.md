# Инструкция по деплою

## Структура проекта

Проект разделен на две ветки:
- **main** - мини-приложение (index.html + images)
- **master** - бот (bot.py + API)

## Деплой мини-приложения (ветка main)

### GitHub Pages
1. Перейдите в настройки репозитория
2. В разделе "Pages" выберите источник "Deploy from a branch"
3. Выберите ветку `main` и папку `/ (root)`
4. Сохраните настройки
5. Мини-приложение будет доступно по адресу: `https://soda2l.github.io/daryrei-mini-app/`

### Netlify
1. Подключите репозиторий к Netlify
2. Выберите ветку `main`
3. Укажите папку сборки: `/ (root)`
4. Деплой произойдет автоматически

## Деплой бота (ветка master)

### Render.com
1. Создайте новый Web Service
2. Подключите репозиторий `soda2l/daryrei-mini-app`
3. Выберите ветку `master`
4. Укажите команду запуска: `python bot.py`
5. Добавьте переменные окружения:
   - `BOT_TOKEN` - токен вашего бота
   - `ORDER_GROUP_ID` - ID группы для заказов
   - `PORT` - 8000 (по умолчанию)
6. Деплой произойдет автоматически

### Heroku
1. Создайте приложение на Heroku
2. Подключите репозиторий
3. Выберите ветку `master`
4. Добавьте переменные окружения в настройках
5. Деплой произойдет автоматически

## Настройка WebApp в Telegram

1. Откройте @BotFather
2. Выберите вашего бота
3. Выберите "Bot Settings" → "Menu Button"
4. Укажите URL мини-приложения: `https://soda2l.github.io/daryrei-mini-app/`

## Проверка работы

1. Запустите бота командой `/start`
2. Нажмите "Открыть магазин"
3. Добавьте товар в корзину
4. Оформите заказ
5. Проверьте, что заказ пришел в группу

## URL для тестирования

- Мини-приложение: `https://soda2l.github.io/daryrei-mini-app/`
- API бота: `https://daryrei-bot.onrender.com/api/health`
